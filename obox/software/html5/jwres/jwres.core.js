function rand(e,t){return Math.floor(Math.random()*(t-e+1))+e}function getHashsum(){var e=new Array("A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0","!","$","%","&","(",")","[","]","{","}","?","=","_",".",";",",",":","<",">","+","*","#","@");var t=e.length-1;var n="";for(var r=0;r<128;r++){n+=e[rand(0,t)]}if(window.binarywebsocket){n="1"+n}else{n="0"+n}return n}function alertDiv(e,t){try{if(window.loadprintalert!=""){window.removeAlert()}window.loadprintalert=document.createElement("div");if(window.loadprintalert){window.loadprintalert.id="printingalert";window.loadprintalert.innerHTML="<div><p><center>"+e+"</center></p></div>"+window.addnewtext;window.loadprintalert.style.display="block";document.body.appendChild(window.loadprintalert)}if(t>0){window.setTimeout("removeAlert();",t)}}catch(n){try{if(window.loadprintalert)while(window.loadprintalert.hasChildNodes())window.loadprintalert.removeChild(window.loadprintalert.lastChild)}catch(n){}finally{window.loadprintalert=""}}finally{return window.loadprintalert?true:false}}function removeAlert(){try{if(window.loadprintalert){window.loadprintalert.style.display="none";while(window.loadprintalert.hasChildNodes())window.loadprintalert.removeChild(window.loadprintalert.lastChild);window.loadprintalert.parentNode.removeChild(window.loadprintalert)}}catch(e){}finally{window.loadprintalert=""}}function appendLoadBox(){if(window.loadBox!=null)return false;try{window.loadBox=document.createElement("div");if(loadBox){loadBox.id="loading";loadBox.innerHTML="<p><strong>"+window.warnforsocket+"</strong><br /><em>Establish connection</em>...</p>";loadBox.style.display="block";document.body.appendChild(loadBox)}}catch(e){try{if(window.loadBox)while(window.loadBox.hasChildNodes())window.loadBox.removeChild(window.loadBox.lastChild)}catch(e){}finally{window.loadBox=null}}finally{return window.loadBox?true:false}}function addsplash(){window.splashmessage="Establish connection "+window.myver;window.valcheck2=0;window.removeLoadBoxOnDisc();window.appendLoadBox();if(!window.iv2){window.iv2=setInterval(function(){window.valcheck2++;if(valcheck2>100){removeLoadBoxOnDisc()}if(window.loadBox){loadBox.innerHTML="<p><strong>"+window.warnforsocket+"</strong><br /><em>"+window.splashmessage+"</em>...</p>"+window.nbsp+window.valcheck2+" sec."}},1e3)}}function messagetoloadbox(e){if(window.loadBox){window.splashmessage=e;window.loadBox.innerHTML="<p><strong>"+window.warnforsocket+"</strong><br /><em>"+window.splashmessage+"</em>...</p>"+window.nbsp+window.valcheck2+" sec."}}function removeLoadBox(){window.sessionentered=true;window.removeLoadBoxOnDisc()}function removeLoadBoxOnDisc(){window.clearInterval(window.iv2);window.iv2=false;try{if(window.loadBox){window.loadBox.style.display="none";while(window.loadBox.hasChildNodes())window.loadBox.removeChild(window.loadBox.lastChild);window.loadBox.parentNode.removeChild(window.loadBox)}}catch(e){}finally{window.loadBox=null}}function mySend(e){try{socket.send(e)}catch(t){}}function onbefunload(){if(!window.unloaded){window.unloaded=true;window.mySend("totalclose");window.disconn();window.forcedClose();document.getElementById("javaappdiv").innerHTML=""}return}function beginme(){window.applserver=window.$_GET("applet");if(typeof window.applserver==="undefined"){window.applserver="";try{document.getElementById("loadappl").innerHTML=window.toloadappl}catch(e){}}else{window.applserver+="/"}window.startApplet();if(!window.appletloaded){window.setTimeout(function(){window.beginme()},1e3);return}window.onunload=onbefunload;window.onbeforeunload=onbefunload;window.addsplash();socket=new io.Socket;socket.on("connect",function(){window.disconnected=false;if(window.mainhashsum.length<3){window.mainhashsum=window.getHashsum()}window.mySend("uniqueid"+window.mainhashsum);window.socketOnMessage=function(e){if(!window.iv_beat){window.lsr=0;window.iv_beat=setInterval(function(){if(window.lsr>10){window.PrepareClose()}window.lsr++},1e4)}window.delReverse();window.resetMessageDirect(e)};window.resetMessageDirect=function(data){socket.removeEventById("connect",0);removeLoadBox();window.lsr=0;eval(data);window.socketOnMessage=function(data){window.lsr=0;try{eval(data)}catch(e){}}};if(window.mainjava!=null&&!window.firsttime){window.reopencloseSocket()}window.firsttime=false;window.messagetoloadbox("Connected!<br>Open session now!");window.allowrdp=true});socket.on("disconnect",function(){window.socketOnMessage=function(e){};window.resetMessageDirect=function(e){};window.disconnected=true;window.closeSocket();window.alertDiv("Connection closed!",0);window.clearInterval(window.iv_beat);window.iv_beat=false;removeLoadBoxOnDisc();window.allowrdp=false;if(window.sessionentered){if(!window.discon){socket=null;window.setTimeout(function(){window.checkConnect()},5e3)}else{window.forcedClose();if(window.mainjava!=null){document.getElementById("javaappdiv").innerHTML=""}window.close()}}});socket.connect()}function checkConnect(){if(window.disconnected){window.beginme();window.setTimeout(function(){if(!window.discon){window.checkConnect()}},1e4)}}function startApplet(){if(window.mainjava==null){var e=document.getElementById("javaappdiv");if(!e){return false}window.alertDiv("Try now to load JAVA!",0);var t='<applet mayscript="mayscript" alt="You do not have Java activated or installed" id="myappletid" width="200" height="200" name="myappletjava" align="top" code="com.jwweb.jwWebsockify.class" archive="'+window.applserver+'jwwebsockify.jar">'+'<param name="code" value="com.jwweb.jwWebsockify.class">'+'<param name="archive" value="'+window.applserver+'jwwebsockify.jar">'+'<param name="cabbase" value="">'+'<param name="pjwsize" value="'+window.pjwsize+'">'+'<param name="sepproc" value="'+window.sepproc+'">'+"</applet>";e.innerHTML=t;window.mainjava=document.getElementById("myappletid")}}function disconn(){try{window.discon=true;if(socket!=null){socket.disconnect()}window.clearInterval(window.iv_beat);socket=null;window.iv_beat=false}catch(e){}}function disconnect(){try{if(socket!=null){socket.disconnect()}window.clearInterval(window.iv_beat);window.iv_beat=false;socket=null}catch(e){}}function PrepareClose(){window.clearInterval(window.jt);window.jt=false;window.discon=true;window.setTimeout("window.disconn();",1e3)}function dummy(){window.mySend(".d.")}function dummyJava(){window.setTimeout(function(){try{window.mainjava.onDummy()}catch(e){}},0)}function eS(e,t){try{window.mainjava.onMyMessage(e,t)}catch(n){}}function rS(e){try{window.mainjava.onMy(e)}catch(t){}}function base64ArrayBuffer(e){var t="";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var r=new Uint8Array(e);var i=r.byteLength;var s=i%3;var o=i-s;var u,a,f,l;var c;for(var h=0;h<o;h=h+3){c=r[h]<<16|r[h+1]<<8|r[h+2];u=(c&16515072)>>18;a=(c&258048)>>12;f=(c&4032)>>6;l=c&63;t+=n[u]+n[a]+n[f]+n[l]}if(s==1){c=r[o];u=(c&252)>>2;a=(c&3)<<4;t+=n[u]+n[a]+"=="}else if(s==2){c=r[o]<<8|r[o+1];u=(c&64512)>>10;a=(c&1008)>>4;f=(c&15)<<2;t+=n[u]+n[a]+n[f]+"="}return t}function rB(e){var t=window.base64ArrayBuffer(e);try{window.mainjava.onMy(t)}catch(n){}}function aS(){try{window.mainjava.onCloseMessage()}catch(e){}}function closeSocket(){try{window.mainjava.onWebDisc()}catch(e){}}function reopencloseSocket(){try{window.mainjava.onWebDiscReopen()}catch(e){}}function testbridge(){if(!window.jt){window.jt=setInterval(function(){var e=0;while(e<3){try{window.mainjava.t();e=3}catch(t){e++;if(e==3){window.PrepareClose();window.mySend("totalclose");window.location.reload()}}}},2e3)}return"ok"+window.tunnelport}function appLoaded(){window.appletloaded=true}function reloadme(){}function forcedClose(){window.clearInterval(window.jt);window.jt=false;try{window.mainjava.onWebDiscForced()}catch(e){}}function myAlertDiv(e){window.setTimeout(function(){window.alertDiv(window.intmessg+e,0)},300)}function tunPort(e){window.tunnelport=e;window.removeLoadBox();try{window.mainjava.setTunport(e)}catch(t){}}function opWin(e,t){if(window.openpopup.length>0){var n=window.openpopup;window.openpopup="";window.open(n,"about:blank","resizable=no,location=no,width=100,height=100")}var r=window.open("http://"+e+":"+t+"/","_blank")}function openLink(e){window.addnewtext='<div onclick=\'window.opWin("127.0.0.1", '+e+");'><font color='#FF0000'><center>OPEN 127.0.0.1!</center></font></div><br /><div onclick='window.opWin(\"localhost\", "+e+");'><font color='#FF0000'><center>OPEN localhost!</center></font></div>"}function openLinkMany(e){var t="";var n=e.split(",");var r="";var i;for(var s=0;s<n.length;s++){i=n[s].split(":");if(i.length>1){r+="<div onclick='window.opWin("+i[1]+");'><font color='#FF0000'><center>OPEN THE LINK!</center></font></div><br>";t=i[1]}s=n.length}if(t.length>0){try{e=encodeURIComponent(e);var o=window.location.pathname.split("/");if(o[o.length-1].indexOf(".htm")>-1||o[o.length-1].length==0){o.pop()}e=o.join("/")+"/setcookie.html?"+e;window.openpopup="http://127.0.0.1:"+t+e}catch(u){}}window.addnewtext=r}var myver="v1.20";var splashmessage="";var nbsp="&nbsp;";var loadBox=null;var disconnected=true;var mainhashsum="";var tunnelport=0;var addnewtext="";var msg="";var appletloaded=false;var tunnelport=0;var firsttime=true;var unloaded=false;if(window.forcesslforxhr&&window.disablewebsocket){var prt=window.myport||80;if(document.location.protocol.indexOf("https")==-1){var toh="https://"+window.location.hostname+":"+prt+window.location.pathname+window.location.search;window.location.href=toh}}var warnforsocket='<font color="#00C000">HTML5 Internet Access</font>';if(!window.webscocknative||window.disablewebsocket){window.warnforsocket='<font color="#FF0000">Warning - Compatibility mode!</font>'}var loadprintalert="";var jt=false;var sessionentered=false;var iv2=false;var iv_beat=false;var lsr=0;var valcheck2=0;var mainjava=null;var intmessg="Do not close while running session!<br>";(function(){var e=window.location.search.substring(1).split("&");if(!e.length)return;var t={};for(var n=0;n<e.length;n++){var r=e[n].split("=");t[unescape(r[0])]=unescape(r[1])}window.$_GET=function(e){return e?t[e]:t}})();var openpopup=""